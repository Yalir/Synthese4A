<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>imgstore.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('imgstore_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">imgstore.h File Reference<div class="ingroups"><a class="el" href="group__core.html">libpurple</a></div></div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;glib.h&gt;</code><br/>
</div>
<p><a href="imgstore_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___purple_stored_image.html">_PurpleStoredImage</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#aa767d45f7df5f9d64bcf4466bdd229a0">PurpleStoredImage</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#afd78caffd5f5e2da1d244a2bd02bff74">purple_imgstore_add</a> (gpointer data, size_t size, const char *filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a2ab56ccd57ebeb6a0cfa7f3c27e1c353">purple_imgstore_new_from_file</a> (const char *path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a6e992b86c90965143d380c9454132749">purple_imgstore_add_with_id</a> (gpointer data, size_t size, const char *filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#ae05f286b740c7ef04f58a04fdcde1310">purple_imgstore_find_by_id</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gconstpointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a05cbe0f94db8e8d45e57054ac80d8d44">purple_imgstore_get_data</a> (<a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a132d917d32da2a93f03214fe779894b4">purple_imgstore_get_size</a> (<a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a452e7da879d9d09dc12bb31e4710b461">purple_imgstore_get_filename</a> (const <a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#ae7aeffa3d2480997ffc9850db7295c0a">purple_imgstore_get_extension</a> (<a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a20deb2520d74fde1de0ec84d907f187c">purple_imgstore_ref</a> (<a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref</a> (<a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *img)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a55ab8dc8a12fb896ea6775af9eb434cc">purple_imgstore_ref_by_id</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a8924cdc29ff85b40f9fd68c581224bad">purple_imgstore_unref_by_id</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a7634441914d5f0350a583885c1cd8983">purple_imgstore_get_handle</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a54313105aa003b9c70f93083580e0c83">purple_imgstore_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="imgstore_8h.html#a81de0fa870dfc9e9a8933d086963e7d3">purple_imgstore_uninit</a> (void)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>IM Image Store API</p>
<dl class="see"><dt><b>See also:</b></dt><dd>imgstore-signals </dd></dl>

<p>Definition in file <a class="el" href="imgstore_8h_source.html">imgstore.h</a>.</p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aa767d45f7df5f9d64bcf4466bdd229a0"></a><!-- doxytag: member="imgstore.h::PurpleStoredImage" ref="aa767d45f7df5f9d64bcf4466bdd229a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___purple_stored_image.html">_PurpleStoredImage</a> <a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A set of utility functions that provide a reference-counted immutable wrapper around an image's data and filename. These functions do not cache any data to disk. </p>

<p>Definition at line <a class="el" href="imgstore_8h_source.html#l00037">37</a> of file <a class="el" href="imgstore_8h_source.html">imgstore.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afd78caffd5f5e2da1d244a2bd02bff74"></a><!-- doxytag: member="imgstore.h::purple_imgstore_add" ref="afd78caffd5f5e2da1d244a2bd02bff74" args="(gpointer data, size_t size, const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a>* purple_imgstore_add </td>
          <td>(</td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new PurpleStoredImage.</p>
<p>Despite the name of this function, the image is NOT added to the image store and no ID is assigned. If you need to reference the image by an ID, use <a class="el" href="imgstore_8h.html#a6e992b86c90965143d380c9454132749">purple_imgstore_add_with_id()</a> instead.</p>
<p>The caller owns a reference to this image and must dereference it with <a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref()</a> for it to be freed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to the image data, which the imgstore will take ownership of and free as appropriate. If you want a copy of the data, make it before calling this function. </td></tr>
    <tr><td class="paramname">size</td><td>Image data's size. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename associated with image. This is for your convenience. It could be the full path to the image or, more commonly, the filename of the image without any directory information. It can also be NULL, if you don't need to keep track of a filename.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The stored image, or NULL if the image was not added (because of empty data or size). </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00052">52</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6e992b86c90965143d380c9454132749"></a><!-- doxytag: member="imgstore.h::purple_imgstore_add_with_id" ref="a6e992b86c90965143d380c9454132749" args="(gpointer data, size_t size, const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int purple_imgstore_add_with_id </td>
          <td>(</td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a PurpleStoredImage using <a class="el" href="imgstore_8h.html#afd78caffd5f5e2da1d244a2bd02bff74">purple_imgstore_add()</a> and add the image to the image store. A unique ID will be assigned to the image.</p>
<p>The caller owns a reference to the image and must dereference it with <a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref()</a> or <a class="el" href="imgstore_8h.html#a8924cdc29ff85b40f9fd68c581224bad">purple_imgstore_unref_by_id()</a> for it to be freed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to the image data, which the imgstore will take ownership of and free as appropriate. If you want a copy of the data, make it before calling this function. </td></tr>
    <tr><td class="paramname">size</td><td>Image data's size. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename associated with image. This is for your convenience. It could be the full path to the image or, more commonly, the filename of the image without any directory information. It can also be NULL, if you don't need to keep track of a filename.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ID for the image. This is a unique number that can be used within libpurple to reference the image. 0 is returned if the image was not added (because of empty data or size). </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00089">89</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae05f286b740c7ef04f58a04fdcde1310"></a><!-- doxytag: member="imgstore.h::purple_imgstore_find_by_id" ref="ae05f286b740c7ef04f58a04fdcde1310" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a>* purple_imgstore_find_by_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve an image from the store. The caller does not own a reference to the image.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID for the image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the requested image, or NULL if it was not found. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00110">110</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a05cbe0f94db8e8d45e57054ac80d8d44"></a><!-- doxytag: member="imgstore.h::purple_imgstore_get_data" ref="a05cbe0f94db8e8d45e57054ac80d8d44" args="(PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gconstpointer purple_imgstore_get_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a pointer to the image's data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The Image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the data, which must not be freed or modified. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00120">120</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae7aeffa3d2480997ffc9850db7295c0a"></a><!-- doxytag: member="imgstore.h::purple_imgstore_get_extension" ref="ae7aeffa3d2480997ffc9850db7295c0a" args="(PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* purple_imgstore_get_extension </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Looks at the magic numbers of the image data (the first few bytes) and returns an extension corresponding to the image's file type.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The image's extension (for example "png") or "icon" if unknown. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00141">141</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a452e7da879d9d09dc12bb31e4710b461"></a><!-- doxytag: member="imgstore.h::purple_imgstore_get_filename" ref="a452e7da879d9d09dc12bb31e4710b461" args="(const PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* purple_imgstore_get_filename </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves a pointer to the image's filename.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the filename, which must not be freed or modified. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00134">134</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7634441914d5f0350a583885c1cd8983"></a><!-- doxytag: member="imgstore.h::purple_imgstore_get_handle" ref="a7634441914d5f0350a583885c1cd8983" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* purple_imgstore_get_handle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the image store subsystem handle.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The subsystem handle. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00204">204</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a132d917d32da2a93f03214fe779894b4"></a><!-- doxytag: member="imgstore.h::purple_imgstore_get_size" ref="a132d917d32da2a93f03214fe779894b4" args="(PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t purple_imgstore_get_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the length of the image's data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The Image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The size of the data that the pointer returned by purple_imgstore_get_data points to. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00127">127</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a54313105aa003b9c70f93083580e0c83"></a><!-- doxytag: member="imgstore.h::purple_imgstore_init" ref="a54313105aa003b9c70f93083580e0c83" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_imgstore_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the image store subsystem. </p>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00212">212</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ab56ccd57ebeb6a0cfa7f3c27e1c353"></a><!-- doxytag: member="imgstore.h::purple_imgstore_new_from_file" ref="a2ab56ccd57ebeb6a0cfa7f3c27e1c353" args="(const char *path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a>* purple_imgstore_new_from_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a PurpleStoredImage using <a class="el" href="imgstore_8h.html#afd78caffd5f5e2da1d244a2bd02bff74">purple_imgstore_add()</a> by reading the given filename from disk.</p>
<p>The image is not added to the image store and no ID is assigned. If you need to reference the image by an ID, use <a class="el" href="imgstore_8h.html#a6e992b86c90965143d380c9454132749">purple_imgstore_add_with_id()</a> instead.</p>
<p>The caller owns a reference to this image and must dereference it with <a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref()</a> for it to be freed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>The path to the image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The stored image, or NULL if the image was not added (because of empty data or size).</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>2.5.0 </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00071">71</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a20deb2520d74fde1de0ec84d907f187c"></a><!-- doxytag: member="imgstore.h::purple_imgstore_ref" ref="a20deb2520d74fde1de0ec84d907f187c" args="(PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a>* purple_imgstore_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increment the reference count.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>img</em> </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00167">167</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a55ab8dc8a12fb896ea6775af9eb434cc"></a><!-- doxytag: member="imgstore.h::purple_imgstore_ref_by_id" ref="a55ab8dc8a12fb896ea6775af9eb434cc" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_imgstore_ref_by_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increment the reference count using an ID.</p>
<p>This is a convience wrapper for <a class="el" href="imgstore_8h.html#ae05f286b740c7ef04f58a04fdcde1310">purple_imgstore_find_by_id()</a> and <a class="el" href="imgstore_8h.html#a20deb2520d74fde1de0ec84d907f187c">purple_imgstore_ref()</a>, so if you have a PurpleStoredImage, it'll be more efficient to call <a class="el" href="imgstore_8h.html#a20deb2520d74fde1de0ec84d907f187c">purple_imgstore_ref()</a> directly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID for the image. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00148">148</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a81de0fa870dfc9e9a8933d086963e7d3"></a><!-- doxytag: member="imgstore.h::purple_imgstore_uninit" ref="a81de0fa870dfc9e9a8933d086963e7d3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_imgstore_uninit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Uninitializes the image store subsystem. </p>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00226">226</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="afc18519a7315e578ff08cf5d6fc356d2"></a><!-- doxytag: member="imgstore.h::purple_imgstore_unref" ref="afc18519a7315e578ff08cf5d6fc356d2" args="(PurpleStoredImage *img)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a>* purple_imgstore_unref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___purple_stored_image.html">PurpleStoredImage</a> *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrement the reference count.</p>
<p>If the reference count reaches zero, the image will be freed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>img</em> or <code>NULL</code> if the reference count reached zero. </dd></dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00177">177</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8924cdc29ff85b40f9fd68c581224bad"></a><!-- doxytag: member="imgstore.h::purple_imgstore_unref_by_id" ref="a8924cdc29ff85b40f9fd68c581224bad" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void purple_imgstore_unref_by_id </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrement the reference count using an ID.</p>
<p>This is a convience wrapper for <a class="el" href="imgstore_8h.html#ae05f286b740c7ef04f58a04fdcde1310">purple_imgstore_find_by_id()</a> and <a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref()</a>, so if you have a PurpleStoredImage, it'll be more efficient to call <a class="el" href="imgstore_8h.html#afc18519a7315e578ff08cf5d6fc356d2">purple_imgstore_unref()</a> directly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID for the image. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="imgstore_8c_source.html#l00157">157</a> of file <a class="el" href="imgstore_8c_source.html">imgstore.c</a>.</p>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="imgstore_8h.html">imgstore.h</a>      </li>
      <li class="footer">Generated on Sun Mar 24 2013 16:05:18 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
